[["index.html", "Análisis de Series de Tiempo de Homicidios en colombia chapter1 Chapter 1 Descripción", " Análisis de Series de Tiempo de Homicidios en colombia Andrés Barrios | Jesus Gallardo | Luis Tafur 2024-06-25 chapter1 Chapter 1 Descripción La dinámica y evolución de los homicidios en Colombia constituye un fenómeno de gran relevancia que merece ser minuciosamente analizado y comprendido. Pues, el entendimiento de sus tendencias, patrones y factores resulta esencial para abordar la complejidad de este delito en el país. En este sentido, este análisis podría arrojar luz a aspectos cruciales como la variación estacional de los homicidios, los potenciales impactos de factores socioeconómicos y demográficos y/o la influencia de las políticas de seguridad implementadas en el territorio nacional. La base de datos proporcionada tiene un espacio temporal que data desde el 2010 hasta enero de 2024. Fuente: Dirección de Investigación Criminal e Interpol (DIJIN) - Policía Nacional de Colombia. GOV.CO_DatosAbiertos "],["análisis-exploratorio.html", "chapter2 Análisis exploratorio", " chapter2 Análisis exploratorio 2.0.1 Dimensiones Se realiza la exploracion de las dimensiones de la base de datos evidenciando que esta cuenta con: Filas: 75152 Columnas: 9 2.0.2 Tipo de variables Se debe corrigir el tipo de las columnas FECHA HECHO y CANTIDAD, dado a que éstas son de tipo Date y Número, luego de aplicar los cambios se observa: CANTIDAD: La variable es tipo numeric FECHA HECHO: La variable es tipo Date 2.0.3 Identificación de registros vacíos Se realiza la verificacion de valores nulos o vacios obteniendo los siguientes resultados: ## DEPARTAMENTO MUNICIPIO CODIGO DANE ## 0 0 0 ## ARMAS MEDIOS FECHA HECHO GENERO ## 0 0 0 ## GRUPO ETARÍO DESCRIPCIÓN CONDUCTA CANTIDAD ## 0 0 0 Clara mente se observa que no existen valos nulos o vacios en ninguna de las variables. 2.0.4 Identificación de registros vacíos con MICE Se realiza la verificacion de valores nulos o vacios obteniendo los siguientes resultados: ## /\\ /\\ ## { `---&#39; } ## { O O } ## ==&gt; V &lt;== No need for mice. This data set is completely observed. ## \\ \\|/ / ## `-----&#39; ## DEPARTAMENTO MUNICIPIO CODIGO DANE ARMAS MEDIOS FECHA HECHO GENERO ## 75152 1 1 1 1 1 1 ## 0 0 0 0 0 0 ## GRUPO ETARÍO DESCRIPCIÓN CONDUCTA CANTIDAD ## 75152 1 1 1 0 ## 0 0 0 0 Clara mente se observa que no existen valores nulos o vacios en ninguna de las variables. 2.0.5 - Resumen de Estadisticos A continuacion se muestra un resumen de los estadisticos basicos de nuestra variable CANTIDAD: ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 1.000 1.000 1.000 1.105 1.000 16.000 "],["creacion-y-exproracion-de-serie-de-tiempo.html", "chapter3 - Creacion y Exproracion de Serie de Tiempo", " chapter3 - Creacion y Exproracion de Serie de Tiempo A continuacion se realiza la transformacion de nuestro dataset al formato se serie de tiempo esto con el objetivo de aplicar las tecnicas de exploracion y prediccion adecuadas para este tipo de informacion temporal. Iniciaremos presentando un resumen de los estadisticos de los homicidios totales de la serie de tiempo luego de realizar la transformacion de los datos: ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 174.0 397.0 449.0 491.5 526.0 1264.0 Dado a que es una serie de tiempo solo tendremos en cuenta la construcción de una base que contenga las variables FECHA HECHO y CANTIDAD para el analisis a realizar, de igualmanera se determinan los siguientes parametros: Frecuencia de la serie: Anual Inicio de la Serie: 2010, 1 Fin de la Serie: 2024, 1 adicionalmente se resaliza la verificacion de la clase de la serie de tiempo: Calse de la serie: ts 3.0.1 - Visualizacion de TS En el grafico anterior se observa que la seria presenta una leve tendencia de 2010 a 2020, a ´partir de este punto se evidencia un notable cambio debido a la aparicion de la pandemia y el confinamiento que sufrio la poblacion a partir del año 2021 se observa que el comportamiento de homicidios en colombia adquiere un incremento mas marcado con una tendencia casi exponencial, este comportamiento podria deberse a los cambios a nivel de estrategias de seguridad implementadas con el nuevo gobierno. 3.0.2 - Analisis por Ciclos Se realiza la evaluacion de la serie agrupada por meses para determinar patrones de comportamiento durante cada uno de ellos, este analisis permite evidenciar estacionalidades que no son tan claras viendo la serie de tiempo cruda. Luego de analizar los resultados se evidencia que en el mes de abril hay mayor numero de homicidios, adicionalmente se evidencia que la media de los meses se encuentra entre los 400 y 500 homicidios. En 7 meses se observan unos valores atipicos que superan los 1000 homicidios y uno en el que se presentaron menos de 200, seria de gran valor hacer un analisis detallado de estos datos con el objetivo de entender mejor la naturaleza de estos resultados. 3.0.3 - *Identificacion de estacionalidades en los resagos Para el caso de la grafica de rezagos se puede afirmar que existe estacionalidad en la serie de tiempo, debido a que se reflejan patrones identificables en los datos. 3.0.4 - Media Movil A continuacion se realiza el calculo de las medias moviles (SMA y EMA) de la serie de tiempo con el objetivo de obtener de forma mas clara el comportamiento de nuestra serie e identificar cual de estas se ajusta en mejor proporcion a nuestra serie. Durante los últimos 13 años, los homicidios en Colombia han experimentado un aumento gradual. Las medias móviles de 12 meses muestran que en 2010 había entre 230 y 240 asesinatos, comparados con 1000 a 850 asesinatos en los últimos meses de 2023 y enero de 2024, quintuplicando así las cifras de este fenómeno en el país. Se observa una tendencia a la baja al finalizar el primer semestre de cada año, seguido por un aumento durante los últimos meses, adicionalmente, se identifican dos períodos de fluctuaciones significativas: Una baja notable al comienzo de la pandemia en 2020, dada la crisis sanitaria provocada por el COVID y la política de aislamiento social Un aumento sostenido en casi todo 2023, este comportamiento podria estar asociados a aumentos de bandas criminales y grupos armados como efecto de los cambios politicos que se generaron con el actual gobierno en materia de seguridad. En cuanto a las líneas móviles exponenciales versus las simples, aunque no coinciden exactamente en su posición, sí lo hacen en cuanto a su tendencia, siendo la línea simple más suavizada que la exponencial. En congruencia con las medias móviles, se observa que la cantidad de homicidios no supera los 375 casos mensuales mensuales antes del 2020, sin embargo en el los periodos posteriores como en el 2023 se observa que se alcanzan valores tope hasta de 1000 muertes mesuales en el país a causa de los homicidios. 3.0.5 - Componentes de las Series Temporales A continuacion realizaremos algunas exploraciones que nos permitiran detallar mucho mejor el analisis de nuestra serie de tiempo, mediante estas herramientas podremos identificar los componentes basicos de una serie temporal y determinar las transformaciones necesarias para mejorar ciertos comportamientos para el analisis. En el grafico se identifica: 1- El comportamiento de la serie - El comportamiento de los residuales de la serie - El comportamiento de la estacionalidad - El comportamiento de la tendencia Al observar el comportamiento de los residuos se puede establecer que la serie es Estacionaria esto debido a que los valores tienen un comportamiento estable al rededor de Cero sin variaciones significativas en la mayor parte de la serie, adicionalmente se identifica que la serie tiene un patron estacional año a año y finalmente la tendencia presenta un comportamiento lineal de los homicidios durante los años 2010 y 2020, Posteriormente, se vuelve creciente hasta finales del 2023. 3.0.6 - Identificación de Estacionaridad Dicker - Fuller La prueba Dicker - Fuller nos permite a traves de valores estadisticos determinar si la serie es estacionaria o no, esta prueba se basa en desechar o aprobar la Hipotesis Alternativa a través del estadistico P-Value, donde Hipotesis Alternativa: Es Estacionaria. ## ## Augmented Dickey-Fuller Test ## ## data: Data_ts$homicidios ## Dickey-Fuller = -4.1312, Lag order = 5, p-value = 0.01 ## alternative hypothesis: stationary Dado que el p-value obtenido fue 0.01, valor que es inferior al nivel de significancia de 0.05 se acepta la hipotesis alternativa de que la serie Sí es estacionaria. 3.0.7 - Estacionalidad por año La estacionalidad en una serie de tiempo nos permite identificar patrones que nos permiten identificar patrones que se repiten con una frecuencia especifica, esta informacion es clave para tomar acciones sobre comportamientos que pueden estar asociados a comportamientos de la poblacion influenciado por factores externos (vacaciones, temporada de lluvia, navidad, etc.). Se evidencian picos en la mayoría de los años principalmente en los meses de febrero, abril, junio y octubre, a excepción de 2023 donde se observa un comportamiento atipico en Enero mas alto de lo usual y entre Mayo y Octubre estos valores vuelven a incrementar de forma significativa y con una tendencia incremental en ese periodo. "],["implementacion-de-transformaciones-en-la-serie-de-tiempo.html", "chapter4 Implementacion de Transformaciones en la Serie de tiempo", " chapter4 Implementacion de Transformaciones en la Serie de tiempo En este capitulo exploraremos diferentes tecnicas de transformacion que nos permitiran preparar nuestra serie de tiempo para aplicar los modelos requeridos para realizar las predicciones deseadas, dentro de las trnasformaciones que abordaremos estan: Transformacion Logaritmica Diferenciacion Iniciaremos evaluando cuantas diferenciaciones son necesarias para lograr estacionaridad en nuestra serie de tiempo. 4.0.1 - Diferenciación Dado a que en los modelos de series de tiempo se requiere tener en cuenta la estacionaridad, para una mejor modelización y capacidad predictiva, se procede a obtener las diferencias necesarias para lograr el cumplimiento de este supuesto. ¿Cuántas diferencias se necesitan para hallar estacionariedad? Diferencias=ndiffs(Data_ts$homicidios) Despues de realizar el procedimiento de diferenciacion se llega a la conclusion que se solo se requieren 1 diferencias para lograr la estacionariedad requerida para el modelamiento. 4.0.2 - Transformación Logaritmica La transformacion logaritmica permite eliminar la tendencia de serie de tiempo, esto con el objetivo de estabilizar el comportamiento de la serie y que esta no se vea afectada por este componente durante el modelamiento y la prediccion, cabe resaltar que estas transformaciones, en muchos casos deben ser revertidas, como por ejemplo al realizar validaciones cruzadas entre modelos para poder tener valores en la misma escala. Luego de aplicar la transformacion logaritmica a la serie de tiempo, se observa como se minimizan las diferencias en la serie, presentandonos una grafica con valores mas estables, esto nos ayuda a cumplir con el supuesto de que la serie tenga una variabilidad constante. teniendo en cuenta que la serie no es estacionaria se debe continuar con la plicacion de la diferenciacion sugerida por la prueba Dicker - Fuller para lograr una serie que cumpla las condiciones para su correcto modelamiento y predicciones. 4.0.3 - Aplicación de Diferenciación Luego de haber aplicado la transformacion logaritmica procederemos con la implementacion de la diferenciacion, para realizar este procedimiento nos apoyaremos en la funcion diff. Tal y como se observa en la grafica, la diferenciacion nos ha permitido tener una serie mucho mas estable eliminando las variaciones extremas para tener datos mas uniformes. NOTA: esta transformacion debera ser revertida en futuros pasos para devolver los valores de la prediccion a las escalas originales 4.0.4 - Aplicación de función ACF Como parte de la exploracion de la serie transformada se realiza la verificacion de las correlaciones luego de las transformaciones para comprobar la estacionaridad de la serie transformada El realizar la autocorrelacion nos permite identificar un comportamiento estacionario con respecto al los resagos de tiempo en la serie. 4.0.5 - Aplicación de función PACF al igual que el analisis de autocorrelacion ACF el analisis de autocorrelacion parcial PACF nos permite evaluar la autoregresividad de la serie de tiempo. Al identificar la estructura autorregresiva en la serie, se tiene que, se necesitan 3 rezagos para predecir el valor actual de la serie. "],["aplicacion-de-modelos.html", "chapter5 Aplicacion de Modelos 5.1 Aplicación de Holt-Winters Model. 5.2 Implementacion de Modelo Auto-Arima 5.3 Implementacion de Modelo Prophet", " chapter5 Aplicacion de Modelos A continuacion nos concentraremos en la implementacion de modelos, en esta ocacion aplicaremos diferentes modelos para la prediccion de las series de tiempo, los modelos a aplicar son: Holt-Winters Auto-Arima Prophet Adicionalmente realizaremos un proceso de validacion cruzada para evaluar la precision de los modelos a traves de metricas como: ME RMSE MAE MPE MAPE MASE RMSSE 5.1 Aplicación de Holt-Winters Model. Dada la evidencia de existencia de un valor medio, tendencia y estacionalidad en los datos; se permite la aplicación del modelo Holt-Winters; como modelo predictorio de largo y mediano plazo por medio de un triple suavizado exponencial al tener en cuenta los aspectos mencionados con anterioridad. La primera decisión radica en elegir el tipo de patrón de estacionalidad, es decir, si este modelo debería ser representado por una estacionalidad aditiva o multiplicativa. Basándonos en la evidencia previamente encontrada, se observa una tendencia que aumenta o disminuye proporcionalmente con el promedio móvil de los datos, lo que sugiere que no permanece constante. Además, la amplitud de esta estacionalidad varía con el nivel encontrado. Por lo tanto, se decidió que el modelo a escoger será multiplicativo. 5.1.1 - Holt-Winters Multiplicativo La gráfica nos brinda una visualización del comportamiento de las predicciones generadas por el modelo multiplicativo Holt-Winters. En un primer vistazo, podemos observar un ajuste cercano entre las predicciones y los datos base. Además, se aprecia una tendencia y estacionalidad similar entre ambas. Los valores de los parámetro obtenidos son: Alpha: 0.694986 Beta: 0 Gamma: 0.0054929 Al revisar los parámetros usados se puede apreciar que el modelo está dando más peso al parámetro Alpha que corresponde a la tendencia. Para un mejor ajuste, se probará modificar los parametros Beta, Gamma y Alpha del modelo holt-winters, dado a que éstas se asocian respectivamente con tendencia, estacionalidad y nivel (promedio móvil). Alpha es un número entre 0 y 1 que determina cuanto peso se le da a las observaciones más recientes al calcular la tendencia. Beta es un número entre 0 y 1 que determina cuanto peso se le da a las observaciones más recientes en cuanto su estacionalidad. Gamma es un número entre 0 y 1 que determina cuanto peso se le da a las observaciones más recientes en cuanto su nivel (promedio móvil). Al modificar dando más peso al parámetro Gamma correspondiente al Nivel, se puede apreciar como las estimaciones cambian en magnitud y los picos y valles no coinciden en igual proporción como en el modelo original. Al modificar dando más peso al parámetro Beta correspondiente a la Estacionalidad, se puede apreciar como las estimaciones del 2024 es muy diferente a los modelos anteriores, lo cual se explica al considerar lo ocurrido en el año 2023 como consecuencia de factores externos que sólo afectan en ese periodo de tiempo. El ajuste del modelo muestra una tendencia constante, un nivel que se aproxima a los datos observados y una estacionalidad periódica entre los años. 5.1.2 - Prediccion Holt-Winters En los valores predichos bajo el modelo Holt-winters, se implementó la predicción de 11 meses posteriores a enero 2024 con intervalos de confianza del 80 y 95%, observando unas barreras correspondientes a 1200 maximo y menos de 200 homicidios sin 0, por observación, el número estaría entre 180 a 150 homicidios. 5.1.3 - Forcast evaluation Realizando una autocorrelación a través de la función ‘acf’, se establecen unos rezagos de 30, haciendo alusión a la misma obsevación en el mes anterior, y dejando denotado no tener en cuenta los NA’s en la operación. Dado lo anterior, se observa que solo un error sobresale de la franja inferior de confianza, denotando la existencia de factores externos que tienen un grado elevado de significancia en la variabilidad de los datos pudiendo atribuirse a los cambios políticos del nuevo gobierno central o la crisis sanitaria. 5.1.4 - Testeo de errores La prueba Ljung-box evalua la hipotesis nula de que no hay autocorrelación en los datos hasta el rezago especificado, en este caso 30. ## ## Box-Ljung test ## ## data: Modelo_evaluation$residuals ## X-squared = 37.565, df = 30, p-value = 0.1613 Dado que p-value es mayor a 0.05 se acepta la hipotesis nula advertida en el parrafo anterior, lo que significa que en primera instacia hay una buena especificación del modelo, las predicciones son confiables y los residuos son aleatorios, lo que permite al modelo capturar adecuadamente la estructura de dependencia temporal de los datos. Así las cosas, graficando los residuos del modelo, se tiene que gran parte de las observaciones se encuentran alrededor de 0, lo que sugiere que el modelo no tiene un sesgo sistemático en sus predicciones; captura bien la estacionalidad y la tendencia de los datos; y explica en mayor parte la variabilidad de los datos. 5.1.5 - Modelaje Box - Jenkins La prueba dicker-fuller realizada en líneas de código anteriores, confirma estacionariedad en los datos con un p-value de 0.01; se ajustó la variabilidad y se halló los rezagos correspondientes. De esta manera, con todas estas observaciones realizadas, este subcapitulo de modelaje se trabajará con el time series conformada de ‘a_estacio’ 5.2 Implementacion de Modelo Auto-Arima ## Series: a_estacio ## ARIMA(2,0,1)(0,0,2)[12] with zero mean ## ## Coefficients: ## ar1 ar2 ma1 sma1 sma2 ## 0.4779 0.2408 -0.9531 0.2029 0.2801 ## s.e. 0.0869 0.0855 0.0358 0.0825 0.1044 ## ## sigma^2 = 0.02311: log likelihood = 79.27 ## AIC=-146.54 AICc=-146.02 BIC=-127.8 En respuesta a la ARIMA(2,0,1)(0,0,2)[12]; se tiene que el modelo mide una parte no estacional con los componentes (2,0,1) y estacional (0,0,2)[12]; esto, permitirá capturar patrones tanto de corto plazo como de largo plazo.De esta manera, la primera parte contiene 2 componentes autoregresivos. 0 de estacionariedad y 1 con media móvil; por su parte, la segunda contiene una media móvil de 2 y el período de evaluación de 12 meses refiriendosea que los datos se presentan de manera anual. Por su parte los valores bajos de AIC (Akaike Information Criterion) de -146.54 señala a complejidad del modelo, donde a menor valor mejor el modelo, AICc (Corrected AIC) de -146.02 y BIC (Bayesian Information Criterion) de -127.8 sugieren que el modelo se ajusta bien a los datos. ## numeric(0) retorna numeric(0). Esto significa que no se detectaron puntos de cambio en la media de la serie temporal a_estacio utilizando el método ‘AMOC’. En otras palabras, la serie temporal no muestra evidencia de un cambio significativo en la media en ningún punto. La salida numeric(0) indica que la media de la serie temporal a_estacio es constante a lo largo del tiempo, al menos según el método ‘AMOC’. 5.2.1 - Prediccion Auto-Arima ## ## Shapiro-Wilk normality test ## ## data: residuales ## W = 0.85614, p-value = 1.487e-11 Se puede observar que que hay residuos extremos tanto en la parte inferior como superior de la linea de ajuste. Adicionalmente en el test de Shapiro el valor W: 0,856, establece que los datos se alejan de un comportamiento normal, en lina con este resultado el p-value: 1.487e-11 indica que existe suficiente evidencia estadistica para rechazar la hipotesis nula Ho:Los datos provienen de una distribucion normal. ## ## Box-Ljung test ## ## data: residuales ## X-squared = 0.001641, df = 1, p-value = 0.9677 Dado que la p-value es mayor a 0.05 se acepta la hipotesis nula, lo que significa que en primera instacia hay una buena especificación del modelo, las predicciones son confiables y los residuos son aleatorios, lo que permite al modelo capturar adecuadamente la estructura de dependencia temporal de los datos. 5.3 Implementacion de Modelo Prophet Se realiza la aplicacion del modelo Prophet, debido a que el modelo solo reconoce las variables ds para unidad de tiempo y y para los valores de resultados se convierten las variables fechas y homicidios a este formato como se observa en la muestra a continuacion: ## ds y ## 1 2010-01-01 411 ## 2 2010-02-01 392 ## 3 2010-03-01 353 ## 4 2010-04-01 389 ## 5 2010-05-01 319 ## 6 2010-06-01 397 Dado a que los datos se encuentran por mes, el ajuste del modelo se realiza activando la estacionalidad anual y desactivando la diaria y semanal. El objetivo de prediccion para el modelo ajustado se establece para 11 periodos de la serie de tiempo, con una frecuencia mensual, lo que nos entregaria un resultado que abarca hasta diciembre 2024. 5.3.1 - Prediccion Prophet 5.3.2 - Visualizacion del Modelo Los puntos negros representan medidas reales de la serie de tiempo La linea azul el pronóstico de Prophet el cual muestra un ajuste significativo a los datos reales La banda azul representa el intervalo de incertidumbre, sin embargo este se muestra bastante conservador En el grafico se puede observar el comportamiento durante el periodo de pandemia y la variación creciente del 2023 por fuera de las bandas predichas por el modelo, este comportamiento se muestra atipico en comparacion con el historico, lo que podria ser relevante analizar teniendo en cuenta la importancia de este indicador para la seguridad publica. 5.3.3 - Componentes del Modelo A continuacion se presentan los componentes de modelo prophet en los que se observa la tendencia y los residuos, permitiendo identificar el comportamiento del modelo hasta la prediccion. Para el caso de la tendencia, es claro que la prediccion presenta un comportamiento ascendente para el año 2024. La grafica de residuales de la prediccion muestran, que a finales de septiembre los homicidios en el país tienden a la baja; adicionalmente, los meses de julio y enero son donde este indicador sufre un incremento significativo en comparacion con el resto de los meses. 5.3.4 - Comparación entre modelos Se crea una nueva serie de tiempo excluyendo un número de meses determinado con la finalidad de tomar ese tiempo como periodo de evaluación y comparación de los resultados de los modelos 5.3.5 - Creación del modelo Holt-Winter Train Se realiza un nuevo modelo Holt-Winter para realizar el proceso de validacion de los modelos untilizando la serie de tiempo de entrenamiento con -6 meses. ## ## Augmented Dickey-Fuller Test ## ## data: nueva_ts ## Dickey-Fuller = 0.30191, Lag order = 5, p-value = 0.99 ## alternative hypothesis: stationary Dado que el p-value = 0.99 es mayor al nivel de significancia de 0.05 se rechaza la hipótesis alternativa de que la serie es estacionaria, luego de realizada la prueba Dicker - Fuller se identifica que se debe diferenciar la serie de tiempo 1 ves ya que no es estacionaria. 5.3.6 - Creación del modelo AutoArima Train ## Series: nueva_ts_estacionaria ## ARIMA(0,0,1)(0,0,2)[12] with zero mean ## ## Coefficients: ## ma1 sma1 sma2 ## -0.4869 0.1553 0.2768 ## s.e. 0.0778 0.0803 0.1008 ## ## sigma^2 = 0.02123: log likelihood = 82.49 ## AIC=-156.97 AICc=-156.72 BIC=-144.62 En respuesta a la ARIMA(0,0,1)(0,0,2)[12]; se tiene que el modelo mide una parte no estacional con los componentes (0,0,1) y estacional (0,0,2)[12]; esto, permitirá capturar patrones tanto de corto plazo como de largo plazo. De esta manera, la primera parte contiene 0 componentes autoregresivos, 0 de estacionariedad y 1 con media móvil; por su parte, la segunda contiene una media móvil de 2 y el período de evaluación de 12 meses refiriendose a que los datos se presentan de manera anual. 5.3.7 - Creación del modelo Prophet Train Las predicciones de los modelos ARIMA y Prophet se deben transformar para volver a la escala original, para esto se debe tener como referencia los datos sin transformar 5.3.8 - Valores Originales Se imprime una muestra de los valores originales de la serie para los ultimos 6 meses, los cuales fueron utilizados para prueba del modelo ## actual_values ## 576 628 630 1177 1208 1264 ## 1 1 1 1 1 1 5.3.9 - Estimacion de Metricas de Modelo ## # A tibble: 3 × 9 ## Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 ## &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Holt-Winters 346. 482. 346. 56.2 56.2 2.09 1.56 0.478 ## 2 ARIMA -696. 760. 696. -73.1 73.1 4.20 2.45 0.444 ## 3 Prophet 335. 500. 366. 56.0 58.6 2.21 1.61 0.484 ## # A tibble: 3 × 9 ## Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 ## &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Holt-Winters 346. 482. 346. 56.2 56.2 2.09 1.56 0.478 ## 2 ARIMA 252. 406. 318. 44.0 49.3 1.92 1.31 0.480 ## 3 Prophet -119. 349. 327. -1.27 35.4 1.97 1.13 0.463 Se realiza el ejercicio para diferentes periodos de evaluación: 12, 6 y 3 meses, es decir, se crea a partir de la serie de tiempo original una serie de entrenamiento y otra de prueba con el número de meses mencionado. En esta primera evaluación se usa la serie de datos trasnformados para que sea estacionaria antes de crear los modelos ARIMA y Prophet. Para los 12 meses se obtuvieronlos siguientes resultados: Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 1 Holt-Winters -95.1 333. 312. 0.104 33.9 2.10 1.28 0.271 2 ARIMA -805. 853. 805. -85.6 85.6 5.43 3.28 0.191 3 Prophet 405. 536. 418. 60.5 61.6 2.82 2.06 0.295 Para un periodo de evaluación de 6 meses se obtuvo: Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 1 Holt-Winters 346. 482. 346. 56.2 56.2 2.09 1.56 0.0378 2 ARIMA -696. 760. 696. -73.1 73.1 4.20 2.45 -0.00611 3 Prophet 335. 500. 366. 56.0 58.6 2.21 1.61 0.0812 Para un periodo de evaluación de 3 meses los resutlados fueron: Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 1 Holt-Winters 668. 669. 668. 109. 109. 24.7 18.2 -0.000571 2 ARIMA -397. 398. 397. -65.0 65.0 14.7 10.8 -0.0982 3 Prophet 850. 856. 850. 139. 139. 31.5 23.3 -0.306 En esta segunda evaluación se realizan las predicciones de los modelos ARIMA y Prophet con la serie sin trasnformar. Para los 12 meses se obtuvieronlos siguientes resultados: Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 1 Holt-Winters -95.1 333. 312. 0.104 33.9 2.10 1.28 0.271 2 ARIMA -38.0 289. 280. 5.81 32.2 1.89 1.11 0.231 3 Prophet -258. 397. 306. -19.9 27.6 2.07 1.53 0.237 Para un periodo de evaluación de 6 meses se obtuvo: Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 1 Holt-Winters 346. 482. 346. 56.2 56.2 2.09 1.56 0.0378 2 ARIMA 252. 406. 318. 44.0 49.3 1.92 1.31 0.0302 3 Prophet -119. 349. 327. -1.27 35.4 1.97 1.13 0.0369 Para un periodo de evaluación de 3 meses los resutlados fueron: Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 1 Holt-Winters 668. 669. 668. 109. 109. 24.7 18.2 -0.000571 2 ARIMA 633. 634. 633. 104. 104. 23.4 17.2 -0.218 3 Prophet 282. 284. 282. 46.1 46.1 10.4 7.72 -0.126 De los resultados obtenidos se evidencia en primera medida que para los modelos ARIMA y Prophet las trasnformaciones efectuadas, usando las funciones log() y diff(), con la finalidad de tener una serie de datos estacionaria, dio como resultado valores de predicción con errores más altos una vez los datos se trasnformaron a la escala original. Esto sucedió en todos los casos a excepción de lo sucedido con el modelo ARIMA al evaluarse un periodo de predicción de 3 meses. Teniendo en consideración los resultados obtenidos de las predicciones con los modelos ARIMA y Prophet usando la serie de tiempo original, se puede concluir a partir de la métrica RMSE que el mejor modelo para realizar predicciones a largo plazo (12 meses) fue el modelo ARIMA y para los periodos de evaluación de 6 y 3 meses, el modelo con mejores resultados fue el Prophet. "],["redes-neuronales-elman-y-jordan.html", "chapter6 Redes Neuronales ELMAN y JORDAN 6.1 Implementacion Modelo Elman 6.2 Implementacion Modelo de Jordan", " chapter6 Redes Neuronales ELMAN y JORDAN 6.1 Implementacion Modelo Elman Se crean pares de entradas y salidas para aprendizaje supervisado, asumiendo 24 meses para predecir el siguiente mes. 6.1.1 - Entrenamiento del Modelo Se entrena el modelo con las siguientes caracteristicas: Tasa de Aprendizaje: 0.1 Número Máximo de Iteraciones: 5000 6.1.2 - Evolucion de Error Elman Se usa función plotIterativeError para ver evolución del error de la red a lo largo de las iteraciones de entrenamiento En el grafico se puede observar como el error no converge a cero rápidamente lo que es una indicacion de que el ajuste del modelo es debil. 6.1.3 - Metricas Modelo Elman ## # A tibble: 4 × 9 ## Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 ## &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Holt-Winters 346. 482. 346. 56.2 56.2 2.09 1.56 0.478 ## 2 ARIMA 252. 406. 318. 44.0 49.3 1.92 1.31 0.480 ## 3 Prophet -119. 349. 327. -1.27 35.4 1.97 1.13 0.463 ## 4 Elman 290. 722. 647. 45.0 74.9 3.90 2.33 0.0150 6.2 Implementacion Modelo de Jordan # Se entrena el modelo de Jordan modelJordan &lt;- jordan(train_inputs, train_outputs, size = 12, learnFuncParams = c(0.1), maxit = 5000, linOut = TRUE) 6.2.1 - Evolucion de Errores Jordan plotIterativeError(modelJordan) # Se realizan las predicciones con el modelo de Jordan predictionsJordan &lt;- predict(modelJordan, test_inputs) # Se denormalizan las predicciones para evaluar con los datos reales predicted_values_Jordan &lt;- denormalize(predictionsJordan, min_val, max_val) 6.2.2 - Metricas Modelo Jordan # Se estiman las métricas para el modelo de Jordan jordan_accuracy &lt;- compute_accuracy(actual_values, predicted_values_Jordan) # Se combinan los resultados en una sola tabla para todos los modelos accuracy_table_todos &lt;- bind_rows( tibble(Model = &quot;Holt-Winters&quot;, hw_accuracy), tibble(Model = &quot;ARIMA&quot;, arima_accuracy_sinTrans), tibble(Model = &quot;Prophet&quot;, prophet_accuracy_sinTrans), tibble(Model = &quot;Elman&quot;, elman_accuracy), tibble(Model = &quot;Jordan&quot;, jordan_accuracy) ) # Se imprime la tabla incluyendo el modelo de Elman print(accuracy_table_todos) ## # A tibble: 5 × 9 ## Model ME RMSE MAE MPE MAPE MASE RMSSE ACF1 ## &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Holt-Winters 346. 482. 346. 56.2 56.2 2.09 1.56 0.478 ## 2 ARIMA 252. 406. 318. 44.0 49.3 1.92 1.31 0.480 ## 3 Prophet -119. 349. 327. -1.27 35.4 1.97 1.13 0.463 ## 4 Elman 290. 722. 647. 45.0 74.9 3.90 2.33 0.0150 ## 5 Jordan 747. 1126. 981. 106. 125. 5.92 3.63 0.163 De todos los modelos implementados, el que arrojó mejores resultados considerando las métricas de evaluación obtenidas para la predicción de los últimos 6 meses fue el modelo Prophet, esto considerando todas las métricas en general, pero especificamente con el RMSE que da una métrica en la escala original de los datos. De los modelos de redes neuronales el que mostró mejor comportamiento fue el modelo Elman, el cual tuvo un RMSE inferior al modelo de Jordan, pero superior al de los otros modelos. Esto indica que las redes neuronales no pudieron predecir de manera correcta la componenete de estacionalidad de la serie de tiempo. Como conclusión final, se considera que la escogencia del modelo para realizar predicciones en una serie de tiempo debe considerar las características propias de la serie, como son su tendencia, pero en especial su estacionalidad. En el ejercicio de escogencia se recomienda utilizar diferentes periodos de entrenamiento y evaluación, así como modificar las variables de ajsute de los modelos según las características de los componentes de la serie de tiempo” "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
